# CaseStudy-II Phase I

## INTRODUCTION
The project is aimed at building a Gating web service to help Developers write clean code. Given a source code repository, the web service calculates Cyclomatic complexities, Code Coverage, Duplication, Number of warnings and Security Flaws using respective tools. The Service generates a detailed report of the checks performed against the source code, compares with thresholds for above quality parameters and gives a final "Go" or "No go" decision. Each tool can be run individually as a service or all at once. The results of each run are saved in csv file.

## Getting started

 - Please follow the steps in [setup](./documentation/Setup.md) before using the service
 - Start the service in eclipse 
 - Rest endpoints can be tested using swagger on browser on endpoint(localhost:8080/swagger-ui.html)
 - The Tools & Services Section describes about the different tools used by the service
 - The Project structure section will help you understand the overall project structure



## Gating Service Design
![GatingServiceDesign](https://user-images.githubusercontent.com/29699403/64340966-fcb9ea80-d004-11e9-8bf7-e61760e36e74.JPG)



## TOOLS & SERVICES

* CyvisService: Uses the tool [CyVis](http://cyvis.sourceforge.net/cyvis_command_interface.html). It Computes cyclomatic complexity of each method/function in the source code, generates a report and returns the maximum cyclomatic complexity.
* JacocoService: Uses the too [JaCoCo](https://www.jacoco.org/jacoco/trunk/index.html). It calculates the code coverage for the source code.
* PMDService: Uses the tool [PMD](https://pmd.github.io/). It is a source code analyzer. It checks for the warnings in the source code and returns number of warnings.
* SimianService: Uses the tool [Simian](https://www.harukizaemon.com/simian/). It checks for Duplication in source code. The service returns integer, denoting the duplicate lines of code found.
* VCGService: Uses the tool [VCG](https://sourceforge.net/projects/visualcodegrepp/). It Checks for potrntial security flawa within the source code. Returns integer indicating the number of security flaws detected.
* GatingService: It receives the results generated by above mentioned services and  compares the result values with Threshold values.
Thresholds can be configured or the results of previous run also can be used as thresholds. The results of each run are saved in csv file for analytic  purpose.
* ProcessUtility: All Services using a tool invoke this service to run the command inside a process.
* ThresholdConfigService: It lets the user to configure the threshold for GatingService as per the requirement.

**Detailed Description of Services** can be found [here](./documentation/DesignDetails.md)


## Project STRUCTURE

* **staticanalysis/service:** Contains all the service classes to generate result value for all quality parameters.
* **toolconfig/service:** Contains the classes to configure the parameters,  Threshold and other additional requirements for running the service classes.
* **gating/service:** Contains service which can run all services on user entered project directory at once and records the results in a csv.
* **gating/utility:** Contains the utility classes that is frequently used by service classes.
* **resources:** Contains configurations for different tools and thresholds stored in properties file.
* **/staticanalysis.service/reports:** Contains all  the  detailed reports generated by the service classes.
* **/staticanalysis.service/static-code-analyzers:** Contains the tool binaries and their dependencies.
* **/staticanalysis.service/resultsLog.csv:** Contains the final result generated by the Web Service if allservices endpoint is called.




